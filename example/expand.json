{
  "_id":"ObjectId(""5ef23e6faaa66b4433c54ee6"")",
  "created":{
    "owner":"system",
    "date":"ISODate(""2020-06-23T17:39:59.006Z"")"
  },
  "selection":{
    "dataset":"medline-articles-2020",
    "source":"batch",
    "query":"5ed1301c71ec7f69b87c3e7b",
    "query-type":"batch-ids",
    "publishing-sets":[

    ]
  },
  "processing-type":"FULL_PROCESSING",
  "job-type":"datapipeline-debulk-manifest-list-archives",
  "progress":{
    "total":NumberLong(1),
    "stages":[
      "5ef23e6faaa66b4433c54ee7"
    ]
  },
  "name":"medline-articles-2020-06/23/20-17:39:59",
  "parent-id":"5ef23e6c55043074790bf142",
  "status":"STOPPED",
  "flat-configuration":{
    "update_id":"9eeb09796d8c4e4c84970335f585e4c9",
    "job-manager-config":{
      "job-types":{
        "publishing-sets":{
          "max-running-jobs":0.0,
          "stages":{
            "epmarcwriter":{
              "order":2.0
            },
            "pubsets-collector":{
              "order":1.0
            }
          }
        },
        "metadata":{
          "max-running-jobs":1.0,
          "stages":{
            "normalize_precedence":{
              "completion-stage-topics":[
                "text-searchable"
              ],
              "order":2.0
            },
            "enrichment":{
              "order":3.0
            },
            "publishing-sets":{
              "completion-stage-topics":[
                "publishing-sets"
              ],
              "order":4.0
            },
            "normalize_mapping":{
              "order":1.0
            }
          },
          "configuration":{
            "shipment-direction":"on-prem",
            "ignore-precedence-rules":false,
            "processing-type":"incremental-update"
          }
        },
        "text-searchable":{
          "stages":{
            "publishing-sets":{
              "completion-stage-topics":[
                "publishing-sets"
              ],
              "order":2.0
            },
            "orchestration":{
              "order":1.0
            }
          },
          "configuration":{
            "mode":"add_new",
            "input-format":"pdf",
            "normalization":true,
            "enabled":false
          }
        },
        "datapipeline-debulk-manifest-list-archives":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-manifest-list-archives":{

            }
          }
        },
        "datapipeline-debulk-inventory-reader":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-inventory-reader":{

            }
          }
        },
        "datapipeline-debulk-manifest-reader":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-manifest-reader":{

            }
          }
        },
        "datapipeline-debulk-xml-file-splitter":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-xml-file-splitter":{

            }
          }
        },
        "datapipeline-debulk-manifest-parser":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-manifest-parser":{

            }
          }
        },
        "datapipeline-debulk-unpacker":{
          "max-running-jobs":1.0,
          "stages":{
            "datapipeline-debulk-unpacker":{

            }
          }
        }
      },
      "reprocessing-policy":{
        "stages":{
          "data-invocator":{
            "order":2.0
          },
          "data-retriver":{
            "order":1.0
          }
        }
      },
      "completion-policy":{
        "completion-time":60.0,
        "allowed-error-percentage":5.0,
        "estimate-threshold-percentage":0.0
      },
      "default-max-running-jobs":1.0
    },
    "headers":{
      "configuration_version":16.0,
      "configuration_id":"medline-articles-2020",
      "last_update_info":{
        "timestamp_iso8601":"20200619T0939+0000",
        "updated_by":""
      },
      "configuration_info":{
        "dimension":"dataset",
        "dimension_id":"medline-articles-2020"
      },
      "configuration_name":"medline-articles-2020",
      "status":"released"
    },
    "mapping_to_n_json":{
      "script_id":"medline-epstoragexml-njson-mappings",
      "script_version":"0.0.2"
    },
    "mapping_to_epmarc":{
      "publishing_sets":[
        {
          "name":"medline2020records",
          "mappings":[
            {
              "stage":"epmarcxml",
              "script_id":"medline-njson-epmarc-mappings",
              "script_version":"1.0.114"
            },
            {
              "stage":"epmarcxml-delete",
              "script_id":"medline-epmarc-deletes-mappings",
              "script_version":"1.0.114"
            },
            {
              "stage":"epmarcxml-ft",
              "script_id":"edssjs-epmarcxml-ft",
              "script_version":"0.0.master143"
            },
            {
              "stage":"epmarcxml-sequence",
              "script_id":"edssjs-epmarcxml-sequence",
              "script_version":"0.0.master159"
            },
            {
              "stage":"transformation",
              "script_id":"epmarcjson-to-xml",
              "script_version":"0.0.1"
            },
            {
              "stage":"transformation-delete",
              "script_id":"epmarcjson-to-xml-delete",
              "script_version":"0.0.1"
            },
            {
              "stage":"transformation-sequence",
              "script_id":"epmarcjson-to-xml-for-sequence",
              "script_version":"0.0.1"
            },
            {
              "script_id":"EpMarcXmlRecord",
              "script_version":"0.0.1",
              "stage":"validation",
              "validation_enabled":"true"
            },
            {
              "stage":"boxing",
              "script_id":"epmarcxml-boxing",
              "script_version":"0.0.4"
            }
          ],
          "shipment_properties":{
            "pattern":"record",
            "partitions_enabled":"true",
            "partitions_number":10.0
          }
        }
      ]
    },
    "transformation-elastic-config":{
      "stages":{
        "shipper":{
          "valid-stat-field":"numSuccesArticles"
        },
        "indexer":{
          "invalid-stat-field":"indexErrors",
          "valid-stat-field":"recordsAppended"
        },
        "aquisition":{
          "valid-stat-field":"processedCount"
        },
        "marcxmlloader":{
          "invalid-stat-field":"errorCount",
          "valid-stat-field":"successCount"
        }
      },
      "final-stage-by-type":{
        "metadata":"indexer"
      }
    },
    "mapping_to_e_json":{
      "validation_enabled":"false",
      "script_id":"cv-mappings",
      "script_version":"1.1.0"
    },
    "reprocessing":{
      "uuid-sources":{
        "normalized-db":{
          "name":"Normalized collection (MongoDB)",
          "query-type":"mongodb",
          "source":"spdb.medline-articles-2020"
        },
        "dlq-es":{
          "name":"Dead Letter Queue (Elastic)",
          "query-type":"elasticsearch",
          "source":"dlq*"
        },
        "file-uuids":{
          "name":"Records UUIDS from uploaded file",
          "query-type":"csv",
          "source":"file"
        }
      },
      "entry-stages":{
        "enrichment":{
          "name":"Enrichment Stage",
          "destination":"enrichment-input-topic",
          "type":"kafka",
          "enrichment-items":[
            {
              "destination-field-name":"job_id",
              "destination-field-path":"$",
              "source-field-path":"$.id"
            }
          ],
          "records-source":"normalized-db"
        }
      },
      "record-sources":{
        "normalized-db":{
          "name":"Normalized Storage",
          "uuid-field":"_id",
          "source":"spdb.medline-articles-2020",
          "type":"mongodb"
        }
      }
    },
    "s3bucket_name":{
      "raw":"s3rawmedline-sharedplatform-us-east1-deliverydevqa"
    },
    "debulker":{
      "uuid_source":"epRecord/epd/AN/#text",
      "completion_checker":"currency:datapipeline-debulk-manifest-parser,datapipeline-debulk-manifest-list-archives,datapipeline-debulk-xml-file-splitter",
      "metadata_file_mask":".*?(\\.xml|\\.xml.1)$",
      "metadata_splitting_pattern":"PubmedArticle,DeleteCitation/PMID,BookDocument",
      "nested-estimate-threshold-percentage":"0",
      "kafka_output_topic":{
        "debulk-manifest-parser-currency":"debulk-manifest-list-archives-input-topic",
        "debulk-xml-file-splitter":"normalization-mapping-input-topic",
        "normalization-mapping":"normalization-precedence-input-topic",
        "debulk-manifest-list-archives":"debulk-xml-file-splitter-input-topic",
        "normalization-precedence":"enrichment-input-topic"
      },
      "deletion_pattern":"DeleteCitation/PMID",
      "mongo_output_collection":{
        "normalization-precedence":"medline-articles-2020"
      },
      "metadata_content_encoding":"UTF-8"
    },
    "xslt_normalization_mapping":{
      "script_id":"medline-raw-epstorage",
      "script_version":"1.0.122"
    },
    "commit_message":"siarhei_yakubenka@epam.com - Merge pull request #60 from EBSCOIS/elastic-config",
    "full_processing_prefixes":{
      "s3_prefixes":[
        "medline2020/pubmed/baseline/",
        "medline2020/pubmed/updatefiles/",
        "medline2020/books/baseline/",
        "medline2020/books/updatefiles/"
      ]
    },
    "enrichment":{
      "stages":[
        {
          "name":"subset",
          "pathIdInRecord":"$.epRecord.epd.PMID.#text",
          "pathIdInCollection":"_id",
          "collectionName":"subject-subsets",
          "mappingPath":[
            {
              "pathGet":"subsets",
              "customName":"subsets",
              "pathOutput":"$"
            }
          ]
        },
        {
          "name":"serfile",
          "payload":{
            "publisher":{
              "pathIn":"epRecord.epd.ImprintCurrent.#text;epRecord.epd.ImprintOriginal.#text",
              "regexp":"(?<=_b)(.*)(?=_c)",
              "allowedCharacters":"[^-_\\[\\]{}()\\w]*",
              "pathOut":"$",
              "customField":"publisher"
            }
          },
          "pathIdInRecord":"$.epRecord.epd.TitleSourceCode.#text",
          "pathIdInCollection":"epRecord.epd.MID.#text",
          "collectionName":"medline-journals-2020",
          "mappingPath":[
            {
              "pathGet":"epRecord.epd.ImprintCurrent.#text",
              "customName":"ImprintCurrent",
              "pathOutput":"$"
            },
            {
              "pathGet":"epRecord.epd.ImprintOriginal.#text",
              "customName":"ImprintOriginal",
              "pathOutput":"$"
            },
            {
              "pathGet":"epRecord.epd.TitleSource.#text",
              "customName":"TitleSourceSerfile",
              "pathOutput":"$"
            }
          ]
        }
      ],
      "output_topic":"epmarcxml-pubsets-kafkaToS3-input-topic",
      "mongo_output_collection":"medline-enriched-2020"
    },
    "xslt_normalization_mapping_deletion":{
      "script_id":"medline-deletion-normalization-mapping-xslt",
      "script_version":"0.0.2"
    },
    "precedence_ruleset":{
      "rule_path":"medline"
    },
    "mapping_to_c_json":{
      "script_id":"cabi-mappings",
      "script_version":"0.0.master174"
    }
  },
  "child-job-info":[

  ],
  "last-modify":"ISODate(""2020-06-24T12:12:10.662Z"")",
  "completion-message":"Stopped due to the parent job with ID 5ef23e6c55043074790bf142 has a status STOPPED",
  "completion-date":"ISODate(""2020-06-24T12:12:10.657Z"")",
  "version":NumberLong(5)
}
